(window["webpackJsonpdynamic-initiative-tracker"]=window["webpackJsonpdynamic-initiative-tracker"]||[]).push([[0],{59:function(e,t,n){e.exports=n(72)},72:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),c=n(8),o=n.n(c),l=n(47),s=n.n(l),u=n(25),d=n(54),m=n(50),p=n(51),E=n(28),v=n(13),f=n(101),h=n(98),b=n(102),g=n(103),O=n(34);!function(e){e[e.ADD_EVENT=0]="ADD_EVENT",e[e.POP_EVENT=1]="POP_EVENT",e[e.REMOVE_EVENT=2]="REMOVE_EVENT",e[e.MODIFY_EVENT=3]="MODIFY_EVENT",e[e.ADD_EFFECT_EVENT=4]="ADD_EFFECT_EVENT"}(a||(a={}));var y=a,j=function(e){var t=e.time,n=e.description,a=e.repeat,c=e.id,o=e.dispatch,l=Object(i.useState)(0),s=Object(v.a)(l,2),d=s[0],m=s[1],p=Object(u.d)({accept:"STATUS_EFFECT",drop:function(e,t){}}),E=Object(v.a)(p,2),f=(E[0],E[1]);return r.a.createElement(h.a,{ref:f,style:{display:"flex",margin:10,padding:5,justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{style:{height:"min-content",display:"flex",alignContent:"center",justifyContent:"center"}},t," ticks (",t/4," seconds) | ",n," ",a>0&&"| ".concat(a," more times")),r.a.createElement(b.a,{margin:"dense",variant:"outlined",style:{height:"min-content",margin:"5px 5px",width:"8em"},InputLabelProps:{shrink:!0},type:"number",label:"Time to Add",onChange:function(e){var t=e.target.value;return m(parseInt(t,10))}}),r.a.createElement(g.a,{style:{height:"min-content",margin:"5px 5px"},variant:"contained",color:"primary",size:"small",onClick:function(){return o({type:y.MODIFY_EVENT,id:c,time:d})}},"Add Time"),r.a.createElement(g.a,{style:{height:"min-content",backgroundColor:O.a[400],margin:"5px 5px"},variant:"contained",size:"small",onClick:function(){return o({type:y.REMOVE_EVENT,id:c})}},"Delete"))},T=n(24),x=n(38),D=n.n(x),V=function e(t,n,a,i,r){var c=r.data,o=r.onAdd,l=r.onTick;Object(T.a)(this,e),this.id=void 0,this.time=void 0,this.maxTime=void 0,this.repeat=void 0,this.description=void 0,this.dispatch=void 0,this.data=void 0,this.onAdd=void 0,this.onTick=void 0,this.id=D()(),this.time=t,this.maxTime=n,this.repeat=a,this.description=i,this.data=c,this.onAdd=o,this.onTick=l},w=function e(t,n,a,i){Object(T.a)(this,e),this.type=y.ADD_EVENT,this.time=void 0,this.maxTime=void 0,this.repeat=void 0,this.description=void 0,this.time=t,this.maxTime=n,this.repeat=a,this.description=i},C=function e(){Object(T.a)(this,e),this.type=y.POP_EVENT},_=n(53),k=n.n(_),N=function(e){var t=e.children,n=Object(u.c)({item:{type:"STATUS_EFFECT"},collect:function(e){return{opacity:e.isDragging()?.5:1,isDragging:e.isDragging()}}}),a=Object(v.a)(n,3),c=a[0],o=c.opacity,l=c.isDragging,s=a[1],d=a[2],m=Object(i.useState)(k()()),p=Object(v.a)(m,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{key:p,style:{opacity:o,borderRadius:4,margin:2,borderColor:"black",borderWidth:l?3:8},ref:function(e){s(e),d(e)}},t))};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){var e=Object(i.useState)(""),t=Object(v.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(-1),o=Object(v.a)(c,2),l=o[0],s=o[1],u=Object(i.useState)(0),m=Object(v.a)(u,2),O=m[0],T=m[1],x=Object(i.useState)(0),D=Object(v.a)(x,2),_=D[0],k=D[1],P=Object(i.useState)(null),A=Object(v.a)(P,2),F=A[0],S=A[1],M=Object(i.useReducer)((function(e,t){switch(t.type){case y.ADD_EVENT:var n=t.maxTime,a=t.time,i=t.repeat,r=t.description;return r?[].concat(Object(E.a)(e),[new V(a,n,i,r,{})]).sort((function(e,t){return e.time-t.time})):e;case y.POP_EVENT:var c=Object(p.a)(e),o=c[0],l=c.slice(1);return o?(S(o),[].concat(Object(E.a)(l.map((function(e){return I({},e,{time:Math.max(0,e.time-o.time)})}))),Object(E.a)(o.repeat?[I({},o,{repeat:o.repeat-1,time:o.maxTime})]:[])).sort((function(e,t){return e.time-t.time}))):e;case y.MODIFY_EVENT:var s=Object(E.a)(e),u=t.id,d=t.time,m=s.findIndex((function(e){var t=e.id;return u===t}));return s.splice(m,1,I({},s[m],{time:s[m].time+d})),s;case y.REMOVE_EVENT:var v=Object(E.a)(e),f=t.id;return v.splice(v.findIndex((function(e){var t=e.id;return f===t})),1),v.sort((function(e,t){return e.time-t.time}));default:return e}}),[]),R=Object(v.a)(M,2),Y=R[0],z=R[1];return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",padding:20,flexDirection:"column",textAlign:"center"}},r.a.createElement("div",null,r.a.createElement(f.a,{variant:"h1"},"Novus Initiative Tracker")),r.a.createElement(h.a,null,F&&"".concat(F.description," - Repetitions Left: ").concat(F.repeat>=0?F.repeat:"Forever")),r.a.createElement("div",{style:{height:"60vh",margin:"20px calc(20px + 8%)",display:"grid",gridTemplateColumns:"1.5fr 1fr"}},r.a.createElement(h.a,{style:{margin:5,overflowY:"auto",padding:10}},Y.map((function(e){var t=e.id,n=Object(d.a)(e,["id"]);return r.a.createElement(j,Object.assign({key:t,dispatch:z,id:t},n))}))),r.a.createElement(h.a,{style:{margin:5,overflowY:"auto",padding:10}},r.a.createElement(N,null,"Stun"),r.a.createElement(N,null,"Poison"),r.a.createElement(N,null,"Incapacitated"))),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(b.a,{variant:"outlined",label:"Event Description",style:{margin:"5px 5px"},defaultValue:"",onChange:function(e){var t=e.target.value;return a(t)}}),r.a.createElement(b.a,{variant:"outlined",label:"Duration",type:"number",style:{margin:"5px 5px",width:"8em"},defaultValue:0,onChange:function(e){var t=e.target.value;return T(parseInt(t,10))}}),r.a.createElement(b.a,{variant:"outlined",label:"Max Duration",type:"number",defaultValue:0,style:{margin:"5px 5px",width:"8em"},onChange:function(e){var t=e.target.value;return k(parseInt(t,10))}}),r.a.createElement(b.a,{variant:"outlined",label:"Repetitions",type:"number",defaultValue:-1,style:{margin:"5px 5px",width:"8em"},onChange:function(e){var t=e.target.value;return s(parseInt(t,10))}}),r.a.createElement(g.a,{variant:"contained",onClick:function(){return z(new w(O,_,l,n))}},"Add Event")),r.a.createElement("div",null,r.a.createElement(g.a,{variant:"contained",onClick:function(){return z(new C)}},"Pop Entry")))};o.a.render(r.a.createElement(u.b,{backend:s.a},r.a.createElement(A,null)),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.cf2e39b8.chunk.js.map